<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>RxJS tutorial</title>
    <script src="https://unpkg.com/@reactivex/rxjs@5.3.0/dist/global/Rx.js"></script>

</head>
<body>
    <button onclick='observable()'>clickMe</button>
</body>
</html>
<script>
    function observable() {
        const observable = Rx.Observable.create(observer => {
            var i = 0;

            while (i <= 30) {
                i += 1;
                var json = { "count": i, "paper": [{ "language": "telugu", "paper": "ENadu" }, { "language": "kanada", "paper": "vijay karnataka" }, { "language": "hindi", "paper": "Samna" }] }
                observer.next(json);
            }
        })
        var sridharPurchasedFromShop = [4, 6, 14];

        observable.filter(obj => obj.count % 2 == 0 && !sridharPurchasedFromShop.includes(obj.count)).subscribe(val => { console.log("sridhar:"); console.log("language:" + val["paper"][0].language + ",paper:" + val["paper"][0].paper); })


        observable.filter(obj => obj.count <= 15).subscribe(val => { console.log("sunil:"); console.log("language:" + val["paper"][1].language + ",paper:" + val["paper"][1].paper); })

        observable.filter(obj => obj.count > 21 && obj.count <= 28 && !obj.count <= 15).subscribe(val => { console.log("subbu:"); console.log("language:" + val["paper"][2].language + ",paper:" + val["paper"][2].paper); })

    }  
</script>